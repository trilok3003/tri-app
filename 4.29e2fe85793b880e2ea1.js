(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"4UJG":function(e,t,r){"use strict";r.r(t),r.d(t,"CrudUsingJsonModule",(function(){return U}));var s=r("ofXK"),i=r("tyNb"),o=r("3Pt+"),n=r("PqYM"),c=r("fXoL"),b=r("LRne"),u=r("vkgz"),a=r("JIr8"),l=r("tk/3");let d=(()=>{class e{constructor(e){this.http=e,this.url="http://localhost:3000/"}getUsers(){return this.http.get(this.url)}createUser(e){return this.http.post(this.url+"addUser",e).pipe(Object(u.a)(e=>console.log("added user")),Object(a.a)(this.handleError("addUser")))}deleteUser(e){return this.http.delete(`${this.url}deleteUser/${e}`).pipe(Object(u.a)(e=>console.log("delete user")),Object(a.a)(this.handleError("deleteUser")))}updateUser(e,t){return this.http.put(`${this.url}updateUser/${e}`,t).pipe(Object(u.a)(e=>console.log("update user")),Object(a.a)(this.handleError("updateUser")))}handleError(e="operation",t){return e=>(console.error(e),Object(b.a)(t))}}return e.\u0275fac=function(t){return new(t||e)(c.Sb(l.a))},e.\u0275prov=c.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var h=r("eX+2");function f(e,t){1&e&&(c.Ob(0,"h3"),c.sc(1,"Create User"),c.Nb())}function p(e,t){1&e&&(c.Ob(0,"h3"),c.sc(1,"Update User"),c.Nb())}function m(e,t){if(1&e){const e=c.Pb();c.Ob(0,"tr"),c.Ob(1,"td"),c.sc(2),c.Nb(),c.Ob(3,"td"),c.sc(4),c.Nb(),c.Ob(5,"td"),c.sc(6),c.Nb(),c.Ob(7,"td"),c.Ob(8,"button",11),c.Vb("click",(function(){c.lc(e);const r=t.$implicit;return c.Zb().removeUser(r)})),c.Ob(9,"span"),c.Jb(10,"i",12),c.Nb(),c.sc(11," Remove "),c.Nb(),c.Ob(12,"button",13),c.Vb("click",(function(){c.lc(e);const r=t.$implicit;return c.Zb().updateUser(r)})),c.Ob(13,"span"),c.Jb(14,"i",14),c.Nb(),c.sc(15," Edit "),c.Nb(),c.Nb(),c.Nb()}if(2&e){const e=t.$implicit;c.yb(2),c.uc(" ",e.id," "),c.yb(2),c.uc(" ",e.name," "),c.yb(2),c.uc(" ",e.profession," "),c.yb(2),c.ec("loading",null==e?null:e.loading)}}const O=[{path:"",component:(()=>{class e{constructor(e,t){this.userService=e,this.fb=t,this.users=[],this.formInit()}formInit(){this.form=this.fb.group({id:[""],name:["",o.q.required],profession:["",o.q.required]})}ngOnInit(){this.getUsers()}submit(){this.loading=!0,Object(n.a)(2e3).subscribe(()=>{this.form.get("id").value?this.userService.updateUser(this.form.get("id").value,this.form.value).subscribe(e=>{this.loading=!1,this.getUsers()}):this.userService.createUser(this.form.value).subscribe(e=>{this.loading=!1,this.getUsers()})})}getUsers(){this.userService.getUsers().subscribe(e=>{this.users=e})}removeUser(e){e.loading=!0,Object(n.a)(2e3).subscribe(()=>{this.userService.deleteUser(e.id).subscribe(t=>{e.loading=!1,this.getUsers()})})}updateUser(e){this.form.patchValue(e)}}return e.\u0275fac=function(t){return new(t||e)(c.Ib(d),c.Ib(o.b))},e.\u0275cmp=c.Cb({type:e,selectors:[["app-list"]],decls:31,vars:7,consts:[[1,"card",3,"formGroup"],[4,"ngIf"],["formControlName","name",1,"input"],["formControlName","profession"],["disabled","","selected",""],["value","Teacher"],["value","Clerk"],["buttonV3","",3,"disabled","loading","click"],["buttonV3","",1,"ml-2",3,"click"],[1,"card"],[4,"ngFor","ngForOf"],["buttonV3","",3,"loading","click"],[1,"fa","fa-trash"],["buttonV3","",1,"ml-1",3,"click"],[1,"fa","fa-edit"]],template:function(e,t){1&e&&(c.Ob(0,"form",0),c.qc(1,f,2,0,"h3",1),c.qc(2,p,2,0,"h3",1),c.Jb(3,"input",2),c.Ob(4,"select",3),c.Ob(5,"option",4),c.sc(6,"Select profession"),c.Nb(),c.Ob(7,"option",5),c.sc(8,"Teacher"),c.Nb(),c.Ob(9,"option",6),c.sc(10,"Clerk"),c.Nb(),c.Nb(),c.Ob(11,"button",7),c.Vb("click",(function(){return t.submit()})),c.sc(12),c.Nb(),c.Ob(13,"button",8),c.Vb("click",(function(){return t.form.reset()})),c.sc(14," Reset "),c.Nb(),c.Nb(),c.Ob(15,"div",9),c.Ob(16,"h2"),c.sc(17,"Users:"),c.Nb(),c.Ob(18,"table"),c.Ob(19,"thead"),c.Ob(20,"tr"),c.Ob(21,"th"),c.sc(22," Id: "),c.Nb(),c.Ob(23,"th"),c.sc(24," Name "),c.Nb(),c.Ob(25,"th"),c.sc(26," Profession "),c.Nb(),c.Ob(27,"th"),c.sc(28,"Actions"),c.Nb(),c.Nb(),c.Nb(),c.Ob(29,"tbody"),c.qc(30,m,16,4,"tr",10),c.Nb(),c.Nb(),c.Nb()),2&e&&(c.ec("formGroup",t.form),c.yb(1),c.ec("ngIf",!t.form.get("id").value),c.yb(1),c.ec("ngIf",t.form.get("id").value),c.yb(9),c.ec("disabled",t.form.invalid)("loading",t.loading),c.yb(1),c.uc(" ",t.form.get("id").value?"Update":"Submit"," "),c.yb(18),c.ec("ngForOf",t.users))},directives:[o.s,o.i,o.f,s.k,o.a,o.h,o.e,o.p,o.l,o.r,h.a,s.j],styles:[""]}),e})()}];let g=(()=>{class e{}return e.\u0275mod=c.Gb({type:e}),e.\u0275inj=c.Fb({factory:function(t){return new(t||e)},imports:[[i.d.forChild(O)],i.d]}),e})();var N=r("zZT/");let U=(()=>{class e{}return e.\u0275mod=c.Gb({type:e}),e.\u0275inj=c.Fb({factory:function(t){return new(t||e)},imports:[[s.c,o.o,l.b,g,N.a]]}),e})()}}]);