(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"4UJG":function(t,e,r){"use strict";r.r(e),r.d(e,"CrudUsingJsonModule",(function(){return v}));var s=r("ofXK"),i=r("tyNb"),o=r("3Pt+"),n=r("PqYM"),c=r("fXoL"),b=r("LRne"),a=r("vkgz"),u=r("JIr8"),l=r("tk/3");let d=(()=>{class t{constructor(t){this.http=t,this.url="http://localhost:3000/"}getUsers(){return this.http.get(this.url)}createUser(t){return this.http.post(this.url+"addUser",t).pipe(Object(a.a)(t=>console.log("added user")),Object(u.a)(this.handleError("addUser")))}deleteUser(t){return this.http.delete(`${this.url}deleteUser/${t}`).pipe(Object(a.a)(t=>console.log("delete user")),Object(u.a)(this.handleError("deleteUser")))}updateUser(t,e){return this.http.put(`${this.url}updateUser/${t}`,e).pipe(Object(a.a)(t=>console.log("update user")),Object(u.a)(this.handleError("updateUser")))}handleError(t="operation",e){return t=>(console.error(t),Object(b.a)(e))}}return t.\u0275fac=function(e){return new(e||t)(c.Sb(l.a))},t.\u0275prov=c.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=r("7Pra");function f(t,e){1&t&&(c.Ob(0,"h3"),c.tc(1,"Create User"),c.Nb())}function p(t,e){1&t&&(c.Ob(0,"h3"),c.tc(1,"Update User"),c.Nb())}function m(t,e){if(1&t){const t=c.Pb();c.Ob(0,"tr"),c.Ob(1,"td"),c.tc(2),c.Nb(),c.Ob(3,"td"),c.tc(4),c.Nb(),c.Ob(5,"td"),c.tc(6),c.Nb(),c.Ob(7,"td"),c.Ob(8,"button",11),c.Vb("click",(function(){c.lc(t);const r=e.$implicit;return c.Zb().removeUser(r)})),c.Ob(9,"span"),c.Jb(10,"i",12),c.Nb(),c.tc(11," Remove "),c.Nb(),c.Ob(12,"button",13),c.Vb("click",(function(){c.lc(t);const r=e.$implicit;return c.Zb().updateUser(r)})),c.Ob(13,"span"),c.Jb(14,"i",14),c.Nb(),c.tc(15," Edit "),c.Nb(),c.Nb(),c.Nb()}if(2&t){const t=e.$implicit;c.yb(2),c.vc(" ",t.id," "),c.yb(2),c.vc(" ",t.name," "),c.yb(2),c.vc(" ",t.profession," "),c.yb(2),c.ec("loading",null==t?null:t.loading)}}const O=[{path:"",component:(()=>{class t{constructor(t,e){this.userService=t,this.fb=e,this.users=[],this.formInit()}formInit(){this.form=this.fb.group({id:[""],name:["",o.q.required],profession:["",o.q.required]})}ngOnInit(){this.getUsers()}submit(){this.loading=!0,Object(n.a)(2e3).subscribe(()=>{this.form.get("id").value?this.userService.updateUser(this.form.get("id").value,this.form.value).subscribe(t=>{this.loading=!1,this.getUsers()}):this.userService.createUser(this.form.value).subscribe(t=>{this.loading=!1,this.getUsers()})})}getUsers(){this.userService.getUsers().subscribe(t=>{this.users=t})}removeUser(t){t.loading=!0,Object(n.a)(2e3).subscribe(()=>{this.userService.deleteUser(t.id).subscribe(e=>{t.loading=!1,this.getUsers()})})}updateUser(t){this.form.patchValue(t)}}return t.\u0275fac=function(e){return new(e||t)(c.Ib(d),c.Ib(o.b))},t.\u0275cmp=c.Cb({type:t,selectors:[["app-list"]],decls:31,vars:7,consts:[[1,"card",3,"formGroup"],[4,"ngIf"],["formControlName","name",1,"input"],["formControlName","profession"],["disabled","","selected",""],["value","Teacher"],["value","Clerk"],["buttonV3","",3,"disabled","loading","click"],["buttonV3","",1,"ml-2",3,"click"],[1,"card"],[4,"ngFor","ngForOf"],["buttonV3","",3,"loading","click"],[1,"fa","fa-trash"],["buttonV3","",1,"ml-1",3,"click"],[1,"fa","fa-edit"]],template:function(t,e){1&t&&(c.Ob(0,"form",0),c.rc(1,f,2,0,"h3",1),c.rc(2,p,2,0,"h3",1),c.Jb(3,"input",2),c.Ob(4,"select",3),c.Ob(5,"option",4),c.tc(6,"Select profession"),c.Nb(),c.Ob(7,"option",5),c.tc(8,"Teacher"),c.Nb(),c.Ob(9,"option",6),c.tc(10,"Clerk"),c.Nb(),c.Nb(),c.Ob(11,"button",7),c.Vb("click",(function(){return e.submit()})),c.tc(12),c.Nb(),c.Ob(13,"button",8),c.Vb("click",(function(){return e.form.reset()})),c.tc(14," Reset "),c.Nb(),c.Nb(),c.Ob(15,"div",9),c.Ob(16,"h2"),c.tc(17,"Users:"),c.Nb(),c.Ob(18,"table"),c.Ob(19,"thead"),c.Ob(20,"tr"),c.Ob(21,"th"),c.tc(22," Id: "),c.Nb(),c.Ob(23,"th"),c.tc(24," Name "),c.Nb(),c.Ob(25,"th"),c.tc(26," Profession "),c.Nb(),c.Ob(27,"th"),c.tc(28,"Actions"),c.Nb(),c.Nb(),c.Nb(),c.Ob(29,"tbody"),c.rc(30,m,16,4,"tr",10),c.Nb(),c.Nb(),c.Nb()),2&t&&(c.ec("formGroup",e.form),c.yb(1),c.ec("ngIf",!e.form.get("id").value),c.yb(1),c.ec("ngIf",e.form.get("id").value),c.yb(9),c.ec("disabled",e.form.invalid)("loading",e.loading),c.yb(1),c.vc(" ",e.form.get("id").value?"Update":"Submit"," "),c.yb(18),c.ec("ngForOf",e.users))},directives:[o.s,o.i,o.f,s.l,o.a,o.h,o.e,o.p,o.l,o.r,h.a,s.k],styles:[""]}),t})()}];let g=(()=>{class t{}return t.\u0275mod=c.Gb({type:t}),t.\u0275inj=c.Fb({factory:function(e){return new(e||t)},imports:[[i.g.forChild(O)],i.g]}),t})();var N=r("TrC9");let v=(()=>{class t{}return t.\u0275mod=c.Gb({type:t}),t.\u0275inj=c.Fb({factory:function(e){return new(e||t)},imports:[[s.c,o.o,l.b,g,N.a]]}),t})()}}]);